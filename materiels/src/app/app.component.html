<div class="container">
  <h1>Gestion des Matériels</h1>

  <form [formGroup]="materielForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="nom">Nom du Matériel</label>
      <input id="nom" formControlName="nom" type="text" placeholder="Nom du matériel" />
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <input id="description" formControlName="description" type="text" placeholder="Description" />
    </div>

    <div class="form-group">
      <label for="serviceDat">Date de Mise en Service</label>
      <input id="serviceDat" formControlName="serviceDat" type="date" />
    </div>

    <div class="form-group">
      <label for="endGarantee">Date de Fin de Garantie</label>
      <input id="endGarantee" formControlName="endGarantee" type="date" />
    </div>

    <div class="button-group">
      <button type="submit" class="btn-success">Ajouter</button>
      <button type="button" class="btn-info" (click)="resetForm()">Annuler</button>
    </div>

    <div class="button-group">
      <button type="button" class="btn-primary" (click)="onCreate()">Créer</button>
      <button type="button" class="btn-warning" *ngIf="materiels.length" (click)="onEdit(materiels[0])">
        Modifier
      </button>
      <button type="button" class="btn-secondary" *ngIf="materiels.length">Lire</button>
      <button type="button" class="btn-danger" *ngIf="materiels.length" (click)="onDelete(materiels[0].id)">
        Supprimer
      </button>
    </div>
  </form>

  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Nom</th>
        <th>Description</th>
        <th>Date de Mise en Service</th>
        <th>Date de Fin de Garantie</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let materiel of materiels">
        <td>{{ materiel.id }}</td>
        <td>{{ materiel.nom }}</td>
        <td>{{ materiel.description }}</td>
        <td>{{ materiel.serviceDat | date: 'dd/MM/yyyy' }}</td>
        <td>{{ materiel.endGarantee | date: 'dd/MM/yyyy' }}</td>
      </tr>
    </tbody>
  </table>
</div>
